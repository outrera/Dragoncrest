[gd_scene load_steps=10 format=1]

[ext_resource path="res://scenes/objects/player.tscn" type="PackedScene" id=1]
[ext_resource path="res://assets/img/gradient_fade_full.png" type="Texture" id=2]
[ext_resource path="res://scripts/camera.gd" type="Script" id=3]
[ext_resource path="res://assets/tiles/brick_tileset.tres" type="TileSet" id=4]
[ext_resource path="res://assets/img/agdg_logo.png" type="Texture" id=5]

[sub_resource type="GDScript" id=1]

script/source = "# test stage script\n\nextends Node\n\n\nfunc _init():\n\tpass\n\t\nfunc _ready():\n\tset_fixed_process(true)\n\nfunc _fixed_process(delta):\n\t\n\tpass\n\nfunc _on_exit_area_enter( area ):\n\tLoader.load_scene(\"res://scenes/tester2.tscn\")\n"

[sub_resource type="CanvasItemShader" id=2]

_code = { "fragment":"uniform float speed;\nuniform float intensity;\nuniform float strength;\nuniform color color_mod;\nuniform float color_strength;\n\nvec2 coord = UV;\n//coord.y = -1.0 - coord.y;\ncoord.x += sin(coord.y * intensity + (TIME * speed)) / strength;\ncoord.y += cos(coord.x * intensity + (TIME * speed)) / strength;\n\ncolor fin = tex(TEXTURE, coord);\n\nCOLOR = fin * (color_mod * color_strength);", "fragment_ofs":0, "light":"", "light_ofs":0, "vertex":"", "vertex_ofs":0 }

[sub_resource type="CanvasItemMaterial" id=3]

shader/shader = SubResource( 2 )
shader/shading_mode = 0
shader_param/speed = 1.0
shader_param/intensity = -2.0
shader_param/strength = 50.0
shader_param/color_mod = Color( 1, 1, 1, 1 )
shader_param/color_strength = 1.0

[sub_resource type="RectangleShape2D" id=4]

custom_solver_bias = 0.0
extents = Vector2( 10, 23 )

[node name="world" type="Node"]

script/script = SubResource( 1 )

[node name="player" parent="." instance=ExtResource( 1 )]

transform/pos = Vector2( 32, 64 )

[node name="glow" type="Sprite" parent="."]

visibility/blend_mode = 1
material/material = SubResource( 3 )
transform/pos = Vector2( 475, 344 )
transform/scale = Vector2( 1.01563, 0.375 )
texture = ExtResource( 2 )

[node name="outsideglow" type="Sprite" parent="glow"]

visibility/blend_mode = 1
material/material = SubResource( 3 )
transform/pos = Vector2( 88.6154, 0 )
transform/scale = Vector2( 0.384615, 1 )
texture = ExtResource( 2 )
flip_h = true

[node name="event_colliders" type="Node" parent="."]

[node name="exit" type="Area2D" parent="event_colliders"]

input/pickable = false
shapes/0/shape = SubResource( 4 )
shapes/0/transform = Matrix32( 1, 0, 0, 1, 513, 346 )
shapes/0/trigger = false
gravity_vec = Vector2( 0, 1 )
gravity = 98.0
linear_damp = 0.1
angular_damp = 1.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="event_colliders/exit"]

transform/pos = Vector2( 513, 346 )
shape = SubResource( 4 )
trigger = false
_update_shape_index = 0

[node name="camera" type="Camera2D" parent="."]

transform/pos = Vector2( 80, 72 )
anchor_mode = 1
rotating = false
current = true
zoom = Vector2( 1, 1 )
limit/left = -10000000
limit/top = -10000000
limit/right = 10000000
limit/bottom = 10000000
limit/smoothed = false
drag_margin/h_enabled = false
drag_margin/v_enabled = true
smoothing/enable = true
smoothing/speed = 10.0
drag_margin/left = 0.2
drag_margin/top = 0.2
drag_margin/right = 0.2
drag_margin/bottom = 0.2
script/script = ExtResource( 3 )

[node name="map" type="TileMap" parent="."]

mode = 0
tile_set = ExtResource( 4 )
cell/size = Vector2( 16, 16 )
cell/quadrant_size = 16
cell/custom_transform = Matrix32( 1, 0, 0, 1, 0, 0 )
cell/half_offset = 2
cell/tile_origin = 0
cell/y_sort = false
collision/use_kinematic = false
collision/friction = 1.0
collision/bounce = 0.0
collision/layers = 1
collision/mask = 1
occluder/light_mask = 1
tile_data = IntArray( -65536, 23, -65535, 6, -65534, 6, -65533, 6, -65532, 6, -65531, 6, -65530, 6, -65529, 6, -65528, 6, -65527, 6, -65526, 6, -65525, 6, -65524, 6, -65523, 6, -65522, 6, -65521, 6, -65520, 6, -65519, 6, -65518, 6, -65517, 6, -65516, 6, -65515, 6, -65514, 6, -65513, 6, -65512, 6, -65511, 6, -65510, 6, -65509, 6, -65508, 6, -65507, 6, -65506, 6, -65505, 6, -65504, 6, -65503, 25, 0, 4, 33, 3, 65536, 4, 65569, 3, 131072, 4, 131105, 3, 196608, 4, 196641, 3, 262144, 4, 262151, 14, 262152, 16, 262177, 3, 327680, 26, 327681, 1, 327682, 1, 327683, 2, 327687, 17, 327688, 19, 327700, 0, 327701, 1, 327702, 1, 327703, 1, 327704, 1, 327705, 2, 327713, 3, 393216, 4, 393219, 28, 393220, 1, 393221, 1, 393222, 1, 393223, 18, 393224, 18, 393225, 1, 393226, 1, 393227, 1, 393228, 1, 393229, 1, 393230, 1, 393231, 1, 393232, 1, 393233, 1, 393234, 1, 393235, 1, 393236, 30, 393241, 4, 393249, 3, 458752, 4, 458759, 20, 458760, 22, 458777, 28, 458778, 12, 458779, 12, 458780, 12, 458781, 13, 458785, 3, 524288, 4, 524321, 3, 589824, 4, 589855, 11, 589856, 12, 589857, 27, 655360, 4, 655393, 3, 720896, 4, 720915, 14, 720916, 15, 720917, 15, 720918, 15, 720919, 15, 720920, 15, 720921, 15, 720922, 15, 720923, 15, 720924, 15, 720925, 15, 720926, 15, 720927, 15, 720928, 15, 720929, 27, 786432, 4, 786451, 17, 786452, 18, 786453, 18, 786454, 18, 786455, 18, 786456, 18, 786457, 18, 786458, 18, 786459, 18, 786460, 18, 786461, 18, 786462, 18, 786463, 18, 786464, 18, 786465, 27, 851968, 4, 851986, 14, 851987, 18, 851988, 18, 851989, 18, 851990, 18, 851991, 18, 851992, 18, 851993, 18, 851994, 18, 851995, 18, 851996, 18, 851997, 18, 851998, 18, 851999, 18, 852000, 18, 852001, 27, 917504, 4, 917507, 28, 917508, 1, 917509, 1, 917510, 1, 917511, 1, 917512, 1, 917513, 1, 917514, 1, 917515, 1, 917516, 1, 917517, 1, 917518, 1, 917519, 1, 917520, 1, 917521, 1, 917522, 29, 917523, 29, 917524, 18, 917525, 18, 917526, 18, 917527, 18, 917528, 18, 917529, 18, 917530, 18, 917531, 18, 917532, 18, 917533, 18, 917534, 18, 917535, 18, 917536, 18, 917537, 27, 983040, 4, 983059, 23, 983060, 18, 983061, 18, 983062, 18, 983063, 18, 983064, 18, 983065, 18, 983066, 18, 983067, 18, 983068, 18, 983069, 18, 983070, 18, 983071, 18, 983072, 18, 983073, 27, 1048576, 26, 1048577, 16, 1048595, 26, 1048596, 18, 1048597, 18, 1048598, 18, 1048599, 18, 1048600, 18, 1048601, 18, 1048602, 18, 1048603, 18, 1048604, 18, 1048605, 18, 1048606, 18, 1048607, 18, 1048608, 18, 1048609, 27, 1114112, 26, 1114113, 18, 1114114, 16, 1114131, 26, 1114132, 18, 1114133, 18, 1114134, 18, 1114135, 18, 1114136, 18, 1114137, 18, 1114138, 18, 1114139, 18, 1114140, 18, 1114141, 18, 1114142, 18, 1114143, 18, 1114144, 18, 1114145, 27, 1179648, 26, 1179649, 18, 1179650, 18, 1179651, 16, 1179667, 26, 1179668, 18, 1179669, 18, 1179670, 18, 1179671, 18, 1179672, 18, 1179673, 18, 1179674, 18, 1179675, 18, 1179676, 18, 1179677, 18, 1179678, 18, 1179679, 18, 1179680, 18, 1179681, 27, 1245184, 26, 1245185, 18, 1245186, 18, 1245187, 18, 1245188, 15, 1245189, 15, 1245203, 28, 1245204, 21, 1245205, 21, 1245206, 21, 1245207, 21, 1245208, 21, 1245209, 21, 1245210, 21, 1245211, 21, 1245212, 21, 1245213, 21, 1245214, 21, 1245215, 21, 1245216, 21, 1245217, 27, 1310720, 26, 1310721, 18, 1310722, 18, 1310723, 18, 1310724, 18, 1310725, 18, 1310726, 15, 1310727, 15, 1376256, 26, 1376257, 18, 1376258, 18, 1376259, 18, 1376260, 18, 1376261, 18, 1376262, 18, 1376263, 18, 1376264, 15, 1376265, 15, 1441792, 26, 1441793, 18, 1441794, 18, 1441795, 18, 1441796, 18, 1441797, 18, 1441798, 18, 1441799, 18, 1441800, 18, 1441801, 18, 1441802, 15, 1441803, 15, 1507328, 26, 1507329, 18, 1507330, 18, 1507331, 18, 1507332, 18, 1507333, 18, 1507334, 18, 1507335, 18, 1507336, 18, 1507337, 18, 1507338, 18, 1507339, 18, 1507340, 15, 1507341, 15, 1507342, 15, 1507343, 15, 1507344, 15, 1507345, 15, 1507346, 15, 1507347, 15, 1507348, 15, 1507349, 15, 1507350, 15, 1507351, 15, 1507352, 15, 1507353, 15, 1507354, 15, 1507355, 15, 1507356, 15, 1507357, 15, 1507358, 15, 1507359, 15, 1507360, 15, 1507361, 27, 1572864, 26, 1572865, 18, 1572866, 18, 1572867, 18, 1572868, 18, 1572869, 18, 1572870, 18, 1572871, 18, 1572872, 18, 1572873, 18, 1572874, 18, 1572875, 18, 1572876, 18, 1572877, 18, 1572878, 18, 1572879, 18, 1572880, 18, 1572881, 18, 1572882, 18, 1572883, 18, 1572884, 18, 1572885, 18, 1572886, 18, 1572887, 18, 1572888, 18, 1572889, 18, 1572890, 18, 1572891, 18, 1572892, 18, 1572893, 18, 1572894, 18, 1572895, 18, 1572896, 18, 1572897, 27, 1638400, 26, 1638401, 18, 1638402, 18, 1638403, 18, 1638404, 18, 1638405, 18, 1638406, 18, 1638407, 18, 1638408, 18, 1638409, 18, 1638410, 18, 1638411, 18, 1638412, 18, 1638413, 18, 1638414, 18, 1638415, 18, 1638416, 18, 1638417, 18, 1638418, 18, 1638419, 18, 1638420, 18, 1638421, 18, 1638422, 18, 1638423, 18, 1638424, 18, 1638425, 18, 1638426, 18, 1638427, 18, 1638428, 18, 1638429, 18, 1638430, 18, 1638431, 18, 1638432, 18, 1638433, 27, 1703936, 26, 1703937, 18, 1703938, 18, 1703939, 18, 1703940, 18, 1703941, 18, 1703942, 18, 1703943, 18, 1703944, 18, 1703945, 18, 1703946, 18, 1703947, 18, 1703948, 18, 1703949, 18, 1703950, 18, 1703951, 18, 1703952, 18, 1703953, 18, 1703954, 18, 1703955, 18, 1703956, 18, 1703957, 18, 1703958, 18, 1703959, 18, 1703960, 18, 1703961, 18, 1703962, 18, 1703963, 18, 1703964, 18, 1703965, 18, 1703966, 18, 1703967, 18, 1703968, 18, 1703969, 27, 1769472, 26, 1769473, 18, 1769474, 18, 1769475, 18, 1769476, 18, 1769477, 18, 1769478, 18, 1769479, 18, 1769480, 18, 1769481, 18, 1769482, 18, 1769483, 18, 1769484, 18, 1769485, 18, 1769486, 18, 1769487, 18, 1769488, 18, 1769489, 18, 1769490, 18, 1769491, 18, 1769492, 18, 1769493, 18, 1769494, 18, 1769495, 18, 1769496, 18, 1769497, 18, 1769498, 18, 1769499, 18, 1769500, 18, 1769501, 18, 1769502, 18, 1769503, 18, 1769504, 18, 1769505, 27, 1835008, 28, 1835009, 29, 1835010, 29, 1835011, 29, 1835012, 29, 1835013, 29, 1835014, 29, 1835015, 29, 1835016, 29, 1835017, 29, 1835018, 29, 1835019, 29, 1835020, 29, 1835021, 29, 1835022, 29, 1835023, 29, 1835024, 29, 1835025, 29, 1835026, 29, 1835027, 29, 1835028, 29, 1835029, 29, 1835030, 29, 1835031, 29, 1835032, 29, 1835033, 29, 1835034, 29, 1835035, 29, 1835036, 29, 1835037, 29, 1835038, 29, 1835039, 29, 1835040, 29, 1835041, 30 )
__meta__ = { "_edit_lock_":true }

[node name="Sprite" type="Sprite" parent="."]

transform/pos = Vector2( 272, 48 )
texture = ExtResource( 5 )
region_rect = Rect2( 417, 16, 14, 16 )

[connection signal="area_enter" from="event_colliders/exit" to="." method="_on_exit_area_enter"]


